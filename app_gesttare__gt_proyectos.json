{
    "querystring": {},
    "schema": {
        "gt_particproyecto": {
            "rel": "codproyecto",
            "querystring": {
                "p_l": 10,
                "p_c": 1,
                "o_1": "idusuario"
            }
        },
        "grafico": {
            "custom": "getRentabilidadGraphic"
        }
    },
    "layout": {
        "groupBoxPadre": {
            "componente": "YBGroupBox",
            "className": "gbTareas gbTareasBox",
            "style": { },
            "layout": {
                "volverButton": {
                    "componente": "YBButton",
                    "prefix": "gt_tareas",
                    "icon": "close",
                    "className": "floatRight",
                    "buttonType": "icon",
                    "style": {
                        "marginTop": "5px",
                        "marginRight": "5px"
                    },
                    "action": {
                        "key": "acctionVolver",
                        "success": [{"slot": "return"}]
                    }
                },
                "copiarEmailButton": {
                    "componente": "YBButton",
                    "prefix": "gt_proyectos",
                    "icon": "email",
                    "className": "floatRight",
                    "buttonType": "icon",
                    "style": {
                        "marginTop": "5px",
                        "marginRight": "5px"
                    },
                    "action": {
                        "key": "actionEmail",
                        "success": [{"slot": "return"}]
                    }
                },
                "separator1": {
                    "componente": "YBSeparator"
                },
                "proyectosForm": {
                    "prefix": "gt_proyectos",
                    "componente": "YBForm",
                    "icon": "info",
                    "class": "claseGrid",
                    "submit": "update",
                    "label": "Información",
                    "fields": {
                        "gb__proyectos": {
                            "title": "",
                            "fields": {
                                "nombre": {},
                                "descripcion": {},
                                "estado": {},
                                "fechainicio": {},
                                "fechaterminado": {},
                                "idresponsable": {
                                    "combolimit": 1,
                                    "showpk": false,
                                    "function": "getParticCompaniaUsu"
                                },
                                "presupuesto": {},
                                "rentabilidad": {"disabled": true},
                                "costetotal": {"disabled": true}
                            }
                        }
                    },
                    "exclude": {}
                },
                "separator2": {
                    "componente": "YBSeparator"
                },
                "nuevoParticipanteExterno": {
                    "componente": "YBButton",
                    "prefix": "gt_proyectos",
                    "label": "Añadir externo",
                    "className": "floatLeft",
                    "buttonType": "raised",
                    "action": {
                        "key": "actInvitarExterno",
                        "success": [{"slot": "refrescar"}]
                    }
                },
                "groupBoxUsuariosC": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "layout": {
                        "separator1": {
                            "componente": "YBSeparator"
                        },
                        "participantesGrid": {
                            "label": "Participantes",
                            "icon": "group",
                            "componente": "YBGrid",
                            "prefix": "gt_particproyecto",
                            "className": "claseGrid",
                            "hideheader": true,
                            "columns": [
                                {
                                    "tipo": "act",
                                    "key": "borrarPartic",
                                    "label": "Borrar Linea",
                                    "success": [
                                        {"slot": "refrescar"}
                                    ]
                                },
                                {
                                    "tipo": "foreignfield",
                                    "listpos": "title",
                                    "key": "nombre"
                                }
                            ],
                            "rowclick": "",
                            "accionesGrid": [
                                {
                                    "key": "actNuevoPartic",
                                    "label": "Nuevo",
                                    "success": [{"slot": "refrescar"}]
                                }
                            ]
                        }
                    }
                },
                "groupBoxGraphic": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "layout": {
                        "graphicSeparator": {
                            "componente": "YBSeparator"
                        },
                        "pruebagrafico": {
                            "label": "Rentabilidad",
                            "componente": "YBChart",
                            "d3": "pieChart",
                            "prefix": "grafico"
                        }
                    }
                }
            }
        }
    },
    "acciones": {
        "acctionVolver": {
            "action": "return"
        },
        "actionEmail": {
            "action": "legacy",
            "serverAction": "dameEmailCreaTarea"
        },
        "borrarPartic": {
            "action": "legacy",
            "serverAction": "borrarPartic",
            "icon": "delete"
        },
        "delete": {
            "action": "deleteRow",
            "icon": "delete"
        },
        "actNuevoPartic": {
            "label": "Nuevo participante",
            "action": "legacy",
            "prefix": "gt_proyectos",
            "icon": "group",
            "title": "Participantes",
            "serverAction": "actNuevoPartic"
        },
        "actInvitarExterno": {
            "title": "Invitación de usuarios externos",
            "action": "legacy",
            "prefix": "gt_proyectos",
            "icon": "send",
            "serverAction": "actInvitarExterno",
            "params": [
                {
                    "tipo": 3,
                    "verbose_name": "email",
                    "key": "email",
                    "validaciones": null,
                    "select": true,
                    "style": {
                        "width": "100%"
                    }
                }
            ]    
        }
    },
    "drawIf": {
        "gb__proyectos": {
            "presupuesto": "checkProyectosFormDraw",
            "rentabilidadh": "checkProyectosFormDraw",
            "costetotal": "checkProyectosFormDraw",
            "idresponsable": "checkResponsableDraw"
        }
    }
}
